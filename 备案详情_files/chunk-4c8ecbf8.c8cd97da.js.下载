(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c8ecbf8"],{"190b":function(t,e,s){s("149f")&&"g"!=/./g.flags&&s("064e").f(RegExp.prototype,"flags",{configurable:!0,get:s("f1fe")})},2523:function(t,e,s){},"2b45":function(t,e,s){"use strict";s("190b");var r=s("69b3"),n=s("f1fe"),a=s("149f"),i="toString",c=/./[i],u=function(t){s("bf16")(RegExp.prototype,i,t,!0)};s("238a")((function(){return"/a/b"!=c.call({source:"a",flags:"b"})}))?u((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?n.call(t):void 0)})):c.name!=i&&u((function(){return c.call(this)}))},e6be:function(t,e,s){"use strict";var r=s("2523"),n=s.n(r);n.a},fbf2:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index"},[s("section",{staticClass:"result big-size"},[s("p",[t._v("\n      出校备案编号："+t._s(t.result.record&&t.result.record.formatedId||"")+"\n      ")]),s("p",[s("span",[t._v("状态：")]),1==t.backType?s("span",{class:t.colorList[t.formStatus]},[t._v(t._s(t.TodayBackTextList[t.formStatus]))]):s("span",{class:t.colorList[t.formStatus]},[t._v(t._s(t.NoTodayBackTextList[t.formStatus]))])]),s("p",[s("span",[t._v("出校日期：")]),s("span",[t._v(t._s(t.result.record&&t.result.record.cxrq))])]),s("p",[s("span",[t._v("当前时间：")]),s("span",{staticStyle:{color:"#f00","font-size":".64rem","font-weight":"bold"}},[t._v(t._s(t._f("formatDate")(t.time)))])]),s("p",[s("span",[t._v("出校起始时间：")]),s("span",[t._v(t._s(t.result.record&&t.result.record.startTime))])]),s("p",[s("span",[t._v("出校结束时间：")]),s("span",[t._v(t._s(t.result.record&&t.result.record.endTime))])]),s("p",[s("span",[t._v("提交时间：")]),s("span",[t._v(t._s(t.result.record&&t.result.record.createDate||""))])]),s("p",[s("span",[t._v("姓名：")]),s("span",[t._v(t._s(t.result.item&&t.result.item.xm||""))])]),s("p",[s("span",[t._v("学号：")]),s("span",[t._v(t._s(t.result.item&&t.result.item.xh||""))])]),s("p",[s("span",[t._v("性别：")]),s("span",[t._v(t._s(t.result.item&&"0"==t.result.item.xb?"女":"男"))])]),s("p",[s("span",[t._v("学院：")]),s("span",[t._v(t._s(t.result.item&&t.result.item.xxmc||""))])]),s("p",[s("span",[t._v("专业：")]),s("span",[t._v(t._s(t.result.item&&t.result.item.zymc||""))])]),t.result.item&&t.result.item.xz?s("p",[s("span",[t._v("学历：")]),s("span",[t._v(t._s(t.result.item&&3==t.result.item.xz?"专科":"本科"))])]):t._e(),s("p",[s("span",[t._v("年级：")]),s("span",[t._v(t._s(t.result.item&&t.result.item.rxnj))])]),s("p",[s("span",[t._v("出校事由：")]),s("span",[t._v(t._s(t.result.record&&t.result.record.cxsy))])]),1!=t.backType?s("p",[s("span",[t._v("返校日期：")]),s("span",[t._v(t._s(t.result.record&&t.result.record.fxrq))])]):t._e()]),s("section",{staticClass:"result"},[s("p",[s("span",[t._v("审核意见：")]),s("span",[t._v(t._s(t.result.record&&t.result.record.approvalRemarks))])]),s("p",[s("span",[t._v("审核时间：")]),s("span",[t._v(t._s(t.result.record&&t.result.record.approvalTime))])]),s("p",[s("span",[t._v("审核人姓名：")]),s("span",[t._v(t._s(t.result.record&&t.result.record.approvalUserName))])])]),t.btnCode?s("div",{staticClass:"btn-wrap"},[1!=t.btnCode||t.isCheckin?2!=t.btnCode||t.isCheckin?3==t.btnCode?s("div",{staticClass:"btn bgc-blue",on:{click:function(e){return t.sendPush()}}},[t._v("该生当日已备案，超过返校时限，不允许进校，请联系辅导员老师")]):t._e():s("div",{staticClass:"btn bgc-blue",on:{click:function(e){return t.onCheckin()}}},[t._v("确定回校")]):s("div",{staticClass:"btn bgc-blue",on:{click:function(e){return t.onCheckin()}}},[t._v("确定离校")])]):t._e()])},n=[],a=(s("2b45"),s("b449"),s("5d83")),i=!1,c={data:function(){return{result:{},formStatus:null,backType:null,colorList:["bgc-grey","bgc-green","bgc-blue","bgc-yellow","bgc-grey"],TodayBackTextList:["未生效","当日返校已备案","已离校(当日返校)","已返校(当日返校)","已过期"],NoTodayBackTextList:["未生效","非当日返校已备案","已离校(非当日返校)","已返校(非当日返校)","已过期"],isCheckin:!1,time:+new Date}},computed:{btnCode:function(){return 0==this.formStatus||3==this.formStatus?0:4==this.formStatus?3:this.result.wayType&&3==this.result.wayType?2:1}},filters:{formatDate:function(t){return t?new Date(t).format("hh:mm:ss"):""}},methods:{onCheckin:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!i){t.next=2;break}return t.abrupt("return");case 2:return i=!0,t.prev=3,t.next=6,this.$api.clockin_clockIn({userId:this.result.userId,userType:this.result.userType,passagewayId:this.result.passagewayId,recordId:this.result.record.formatedId});case 6:e=t.sent,"1"===e.result&&(this.$toast.success("提交成功"),this.isCheckin=!0,1==this.btnCode?this.formStatus=2:this.formStatus=3),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),i=!1;case 13:case"end":return t.stop()}}),t,this,[[3,10]])})));function e(){return t.apply(this,arguments)}return e}(),sendPush:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!i){t.next=2;break}return t.abrupt("return");case 2:return i=!0,t.prev=3,t.next=6,this.$api.sendPush({id:this.result.record.formatedId});case 6:e=t.sent,"1"===e.result&&(this.$toast.success("提交成功"),this.isCheckin=!0),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),i=!1;case 13:case"end":return t.stop()}}),t,this,[[3,10]])})));function e(){return t.apply(this,arguments)}return e}(),setInterval:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=this;console.log(this.time),setInterval((function(){t.time+=1e3}),1e3)}))},mounted:function(){this.setInterval(),this.result=JSON.parse(sessionStorage.getItem("result")),this.backType=this.result.record.backType,this.formStatus=this.result.enterRecordStatus}},u=c,o=(s("e6be"),s("4023")),l=Object(o["a"])(u,r,n,!1,null,"4cf483f6",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-4c8ecbf8.c8cd97da.js.map